!function(){"use strict";const t={containerGame:document.getElementById("container-game"),screen:document.querySelector(".screen")},e=["#ff0000","#ff8c00","#ffd700","#228b22","#00bfff","#0000cd","#8a2be2","#000000","#da70d6","#8B4513","#808080"],n=["Красный","Оранжевый","Жёлтый","Зелёный","Голубой","Синий","Фиолетовый","Чёрный","Розовый","Коричневый","Серый"],s=[{src:"./img/svg/victory-01.svg",text:"Молодец!<br> Так держать!"},{src:"./img/svg/victory-02.svg",text:"Умничка!<br> Лови вкусняшку!"},{src:"./img/svg/victory-03.svg",text:"Хвалю!<br> Рыбка для тебя!"},{src:"./img/svg/victory-04.svg",text:"Поздравляю!<br> Мы с рыбкой тобой довольны!"},{src:"./img/svg/victory-05.svg",text:"Здорово!<br> Я в тебе нисколько не сомневался!"}],i=[{src:"./img/svg/defeat-01.svg",text:"Не расстраивайся!<br> Больше тренировок и все получится!"},{src:"./img/svg/defeat-02.svg",text:"Не переживай!<br> Лучше ещё раз пройди испытание!"},{src:"./img/svg/defeat-03.svg",text:'Скажи неудачам: "Я с вами справлюсь!" И пройди испытание еще раз'},{src:"./img/svg/defeat-04.svg",text:"Жаль! Возможно стоит немного отдохнуть и попробовать ещё раз!"},{src:"./img/svg/defeat-05.svg",text:"Не получилось в этот раз, получится в следующий! Вперед, к цели!"}];(function(){let a,c=1500,d=9,l=1,o=!1;function g(t,e){t.innerHTML=e}function m(t){const e=document.createElement("div");e.className="screen",t.append(e);const n=document.querySelector(".screen");return n.classList.add("up"),n.innerHTML="",e}function r(){document.querySelector(".screen").remove()}function v(t,e,n=-1){const s=Math.round(Math.random()*(e-t)+t);return s===n?s+1?s+1:s-1:s}function u(t,e){t.addEventListener("click",(n=>{n.target.classList.contains("button")&&("speed"===e&&(c=Number(n.target.dataset[e])),"sound"===e&&(l=Number(n.target.dataset[e])),t.querySelectorAll(".button").forEach((t=>{t.classList.remove("button--active")})),n.target.classList.add("button--active"))}))}function _(){if(0===d)clearInterval(a),r(),g(m(t.containerGame),'\n    <div class="game__inner game__inner--finish">\n      <div class="game__img">\n        <img src="./img/svg/finish.svg" alt="Котик смотрит на знак вопроса" />\n      </div>\n      <div class="game__descr">\n        <h2 class="game__title">Оцени себя.<br> У тебя все получилось?</h2>\n        <div class="game__img--mobile">\n          <img src="./img/svg/finish.svg" alt="Котик смотрит на знак вопроса" />\n        </div>\n        <div class="game__buttons-list game__buttons-list--grade" id="buttons-list-grade">\n          <button class="game__button--grade button button--green" id="button-yes"><span class="icon icon--smile"></span>Да</button>\n          <button class="game__button--grade button button--red" id="button-no"><span class="icon icon--sad"></span>Нет</button>\n        </div>\n      </div>\n    </div>\n    '),function(){const e=new Audio;if(e.src="./files/stop.mp3",l&&e.play(),document.getElementById("buttons-list-grade")){const n=document.getElementById("button-yes"),a=document.getElementById("button-no");function u(){r(),g(m(t.containerGame),function(){const{src:t,text:e}=o?s[v(0,s.length-1)]:i[v(0,i.length-1)];return`\n    <div class="game__inner game__inner--finish">\n      <div class="game__descr">\n        <h2 class="game__title">${e}</h2>\n        <div class="game__img--mobile">\n          <img src=${t} alt="Котик" />\n        </div>\n        <button class="game__button button button--light" id="new-game-btn">Играть снова</button>\n      </div>\n      <div class="game__img">\n        <img src=${t} alt="Котик" />\n      </div>\n    </div>\n    `}()),function(){const e=new Audio;e.src=o?"./files/victory.mp3":"./files/defeat.mp3",l&&e.play(),document.getElementById("new-game-btn")&&document.getElementById("new-game-btn").addEventListener("click",(e=>{e.preventDefault(),r(),g(m(t.containerGame),'\n    <div class="game__inner game__inner--start">\n      <div class="game__img game__slider-list">\n        <div class="game__slide game__slide--active">\n          <img src="./img/svg/start-01.svg" alt="Котик с красным клубком" />\n        </div>\n        <div class="game__slide">\n          <img src="./img/svg/start-02.svg" alt="Котик с голубым клубком" />\n        </div>\n        <div class="game__slide">\n          <img src="./img/svg/start-03.svg" alt="Котик с зеленым клубком" />\n        </div>\n        <div class="game__slide">\n          <img src="./img/svg/start-04.svg" alt="Котик с фиолетовым клубком" />\n        </div>\n      </div>\n      <div class="game__descr">\n        <h2 class="game__title">Назови цвет</h2>\n        <div class="game__img--mobile">\n          <img src="./img/svg/start-01.svg" alt="Котик с красным клубком" />\n        </div>\n        <p class="game__text">\n            Пришла пора тренировки внимания! Не читай, что написано, просто называй цвета.\n        </p>\n        <button class="game__button button button--light" id="settings-btn">Пройти испытание</button>\n      </div>\n    </div>\n    '),b(),c=1500,d=9,l=1}))}()}n.addEventListener("click",(t=>{t.preventDefault(),o=!0,u()})),a.addEventListener("click",(t=>{t.preventDefault(),o=!1,u()}))}}();else{document.querySelectorAll(".game__board-item").forEach((t=>{t.textContent=""}));const t=document.getElementById(`item-${v(1,6)}`),s=v(0,n.length),i=v(0,n.length,s);if(t.textContent=n[s],t.style.color=e[i],t.textContent){const t=new Audio;t.src="./files/new.mp3",l&&t.play(),d--}}}function b(){(function(){if(document.querySelector(".game__slider-list")){let t=0;const e=document.querySelectorAll(".game__slide");function n(t){e.forEach((t=>{t.classList.remove("game__slide--active")})),e[t].classList.add("game__slide--active")}function s(){t===e.length-1?(t=0,n(t)):(t++,n(t))}setInterval(s,2e3)}})(),document.getElementById("settings-btn")&&document.getElementById("settings-btn").addEventListener("click",(e=>{e.preventDefault(),document.querySelectorAll(".screen").length>1&&r(),g(m(t.containerGame),'\n            <div class="game__inner game__inner--setting">\n              <div class="game__descr">\n                <h2 class="game__title">Настройки</h2>\n                <div class="game__text">\n                  До начала испытания всего один шаг. Выбери подходящие настройки.\n                  <h3 class="game__subtitle">Скорость смены слов:</h3>\n                  <div class="game__buttons-list" id="buttons-list-speed">\n                    <button class="game__button--setting button" data-speed="2000"><span class="icon icon--bike"></span>Медленно</button>\n                    <button class="game__button--setting button button--active" data-speed="1500"><span class="icon icon--car"></span>Средне</button>\n                    <button class="game__button--setting button" data-speed="800"><span class="icon icon--rocket"></span>Быстро</button>\n                  </div>\n                  <h3 class="game__subtitle">Количество слов:</h3>\n                  <div class="game__range">\n                    <div class="slider__value">\n                      <span id="slider__value">9</span>\n                    </div>\n                    <div class="field">\n                      <div class="value left">4</div>\n                      <input id="slider__input" type="range" min="4" max="14" value="9" steps="1">\n                      <div class="value right">14</div>\n                    </div>\n                  </div>\n                  <div class="game__sound-inner">\n                    <h3 class="game__subtitle">Звук:</h3>\n                    <div class="game__buttons-list" id="buttons-list-sound">\n                      <button class="game__button--setting button button--active" data-sound="1"><span class="icon icon--sound-on"></span>Включен</button>\n                      <button class="game__button--setting button" data-sound="0"><span class="icon icon--sound-off"></span>Выключен</button>\n                    </div>\n                  </div>\n                  <button class="game__button button button--light" id="start-btn">Начать</button>\n                </div>\n              </div>\n              <div class="game__img">\n                <img src="./img/svg/settings.svg" alt="Котик с ноут буком" />\n              </div>\n            </div>\n    '),function(){if(document.getElementById("buttons-list-speed")&&u(document.getElementById("buttons-list-speed"),"speed"),document.querySelector(".game__range")){const t=document.getElementById("slider__value"),e=document.getElementById("slider__input");e.oninput=()=>{d=e.value,t.textContent=d,t.style.left=10*d-40+"%"}}document.getElementById("buttons-list-sound")&&u(document.getElementById("buttons-list-sound"),"sound"),document.getElementById("start-btn")&&document.getElementById("start-btn").addEventListener("click",(e=>{e.preventDefault(),r(),g(m(t.containerGame),'\n            <div class="game__inner">\n              <div class="game__board" id="board">\n                <div class="game__board-item" id="item-1"></div>\n                <div class="game__board-item" id="item-2"></div>\n                <div class="game__board-item" id="item-3"></div>\n                <div class="game__board-item" id="item-4"></div>\n                <div class="game__board-item" id="item-5"></div>\n                <div class="game__board-item" id="item-6"></div>\n              </div>\n            </div>\n    '),document.getElementById("board")&&(a=setInterval(_,c))}))}()}))}g(t.screen,'\n    <div class="game__inner game__inner--start">\n      <div class="game__img game__slider-list">\n        <div class="game__slide game__slide--active">\n          <img src="./img/svg/start-01.svg" alt="Котик с красным клубком" />\n        </div>\n        <div class="game__slide">\n          <img src="./img/svg/start-02.svg" alt="Котик с голубым клубком" />\n        </div>\n        <div class="game__slide">\n          <img src="./img/svg/start-03.svg" alt="Котик с зеленым клубком" />\n        </div>\n        <div class="game__slide">\n          <img src="./img/svg/start-04.svg" alt="Котик с фиолетовым клубком" />\n        </div>\n      </div>\n      <div class="game__descr">\n        <h2 class="game__title">Назови цвет</h2>\n        <div class="game__img--mobile">\n          <img src="./img/svg/start-01.svg" alt="Котик с красным клубком" />\n        </div>\n        <p class="game__text">\n            Пришла пора тренировки внимания! Не читай, что написано, просто называй цвета.\n        </p>\n        <button class="game__button button button--light" id="settings-btn">Пройти испытание</button>\n      </div>\n    </div>\n    '),b()})(),function(){const t=document.querySelector(".mobile-nav-btn"),e=document.querySelector(".mobile-nav"),n=document.querySelector(".nav-icon"),s=document.querySelector(".overlay");t.addEventListener("click",(()=>{e.classList.toggle("mobile-nav--open"),n.classList.toggle("nav-icon--active"),s.classList.toggle("overlay--active"),document.body.classList.toggle("no-scroll")}))}()}();